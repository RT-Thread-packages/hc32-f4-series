# Update History
------
## V1.0.0  Jun 30, 2024
#### documents
#### drivers
- ##### bsp/ev_hc32f334_lqfp64
  - Enable cache in API BSP_CLK_Init()
  - MISRAC fix in API BSP_XTAL32_Init()
  - FCM interface add instance
  - Comments fixed in API BSP_CLK_Init()
- ##### cmsis/Device
  - Update base upon RM Rev1.00
- ##### hc32_ll_driver
  - **generic**
    - Modify version as Rev1.0.0
  - **adc**
    - Fixed some comments
    - Corrected the definitions of ADC2_MX_CH_ALL and ADC3_MX_CH_ALL
    - Optimized access code for some registers to improve readability
    - Fixed assert: IS_ADC_CH and IS_ADC_REMAP_CH
    - Removed redundant macros
  - **aos**
    - Modify assert IS_AOS_TARGET
  - **clk**
    - Remove exclk relevant
  - **cmp**
    - Modify group define for CMP_Scan_Inp_Status and CMP_Scan_Inm_Status
    - Pin assignment modify: CMPx_INP2->CMPx_INP1, CMP123_INP1->CMP123_INP2
    - Modify API about FIR register for couping risk
  - **crc**
    - Optimized APIs CRC_WriteData8/16/32
  - **dac**
    - Modify valid channel assert macro
    - All parameter assert add module name
  - **dma**
    - Optimize DMA_ClearErrStatus() & DMA_ClearTransCompleteStatus()
  - **efm**
    - Move EFM_CACHE_ALL from c file to head file
    - Optimize EFM_ClearStatus()
  - **emb**
    - Modify typo
    - Add EMB_EVT_ALL definition
    - Modify assert IS_EMB_MONITOR_EVT
    - Optimize EMB_ClearStatus function
    - Rename macro-definition: IS_VALID_EMB_INT -> IS_EMB_INT
  - **fcm**
    - Interface add instance
    - Modify API FCM_ClearStatus(), Clear status by write instruction
  - **hrpwm**
    - Modify API about status register for couping risk
  - **i2c**
    - Support FM+ mode
  - **icg**
    - Delete ICG2 function
    - Modify ICG_REG_CFG3_CONST
  - **interrupts**
    - Modify INTC filter B macos correspond with RM
    - Modify API NMI_ClearNmiStatus(),EXTINT_ClearExtIntStatus() Clear status by write instruction
    - clear EFEN bit in EXTINT_Init()
  - **mcan**
    - API MCAN_DeInit() refined.
    - Delete unused macro: IS_MCAN_FUNC_EN.
    - Typo corrected: IS_ADC_1BIT_MASK -> IS_MCAN_1BIT_MASK.
    - API MCAN_CheckRxBufferMsgAvailable() fixed.
  - **pwc**
    - Add macro define PWC_RTC_CLK_PIN
    - Modify LVD initialize process
    - Set PWRC4.PD1PW before enter PD1 mode
    - Remove macro PWC_LVD_EXT_INPUT_EN_REG & PWC_LVD_EXT_INPUT_EN_BIT & PWC_LVD_CMP_OUTPUT_EN_REG & PWC_LVD_CMP_OUTPUT_EN_BIT
    - Modify PWC_LVD_ClearStatus & PWC_PD_ClearWakeupStatus for couping risk
  - **rtc**
    - Modify RTC_EnterRwMode,RTC_ExitRwMode,RTC_ConfirmLPMCond,RTC_SetIntPeriod,RTC_AlarmCmd,RTC_IntCmd,RTC_ClearStatus for couping risk
  - **spi**
    - Modify SPI_DeInit,SPI_ClearStatus for couping risk
  - **sram**
    - Modify SRAM_FLAG_ALL value
    - Modify SRAM_SRAM0_ECC_INVD value
    - Use IS_SRAM_ECC_SRAM() to check SRAM supported ECC
  - **swdt**
    - Modify API SWDT_ClearStatus() for couping risk
  - **tmr0**
    - Modify function for waiting synchronous done flag
    - Add RMU FRST register protect parameter check
    - Modify TMR0_ClearStatus for couping risk
  - **tmr4**
    - Add parameter check assert in TMR4_DeInit()
    - Fix bug that the status flag of CCSR/OCSR for couping risk
    - Fix bug that the status flag of SCFR for couping risk
  - **tmr6**
    - Modify group define TMR6_Emb_Ch_Define
    - Modify API TMR6_ClearStatus() for couping risk
  - **tmra**
    - API TMRA_DeInit() refined
    - Modify PCONR reg from RW_MEM16 to MODIFY_REG16 in TMRA_PWM_Init() function
    - Modify TMRA_CountReloadCmd,TMRA_ClearStatus,TMRA_IntCmd for couping risk
    - Optimized access code for some registers to improve readability
  - **usart**
    - Add interfaces for getting USART configuration status
    - Add assert for the register bit can only be set when TE=0&RE=0
  - **wdt**
    - Modify API WDT_ClearStatus() for couping risk
#### midwares
- ##### hc32/iec60730_class_b_stl
  - Use STL_RetargetPrintf() replace printf() of the C lib.
  - Fix warning: MISRAC2012-Rule-8.4
#### projects
- ##### ev_hc32f334_lqfp64/applications
  - **functional_safety/iec60730_class_b**
    - FCM interface add instance
  - **iap/iap_app**
    - Modify u8FrameData to 4-byte alignment
  - **iap/iap_boot**
    - Modify u8FrameData to 4-byte alignment
- ##### ev_hc32f334_lqfp64/examples
  - **cmp/cmp_normal_blankwindow**
    - Pin assignment modify: CMPx_INP2->CMPx_INP1, CMP123_INP1->CMP123_INP2
  - **cmp/cmp_normal_int**
    - Pin assignment modify: CMPx_INP2->CMPx_INP1, CMP123_INP1->CMP123_INP2
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
  - **cmp/cmp_scan_mode**
    - Pin assignment modify: CMPx_INP2->CMPx_INP1, CMP123_INP1->CMP123_INP2
  - **cmp/cmp_window**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
  - **ctc/ctc_ctcref_single_trimming**
    - Optimize process
  - **ctc/ctc_ctcref_trimming**
    - Optimize process
  - **dac/dac_base**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
  - **dac/dac_sync_mode**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
  - **dmac/dmac_base**
    - Remove error handle relevant code
    - Add DMA transform tigger by software
  - **efm/efm_protect**
    - Disable cache while chip erase & set read only after chip erase
  - **emb/emb_cmp_brake_hrpwm**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
    - Add DAC_StructInit() before DAC_Init()
    - Modify CMP pin definition
  - **emb/emb_cmp_brake_timer4**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
    - Add DAC_StructInit() before DAC_Init()
    - Modify CMP pin definition
  - **emb/emb_cmp_brake_timer6**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
    - Add DAC_StructInit() before DAC_Init()
    - Modify CMP pin definition
  - **fcm/fcm_freq_measure**
    - FCM interface add instance
  - **hrpwm/hrpwm_dac_trigger**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
  - **hrpwm/hrpwm_idle_BM**
    - Delete DAC_DataRegAlignConfig() due to align configure in DAC_Init()
    - Modify CMP pin definition
  - **i2c/i2c_master_dma**
    - Clear DMA transfer completed flag before DMA start
    - Add repeated communication process
  - **i2c/i2c_slave_dma**
    - Clear DMA transfer completed flag before DMA start
  - **i2c/i2c_slave_int**
    - Add STOPF clearing to eei callback
  - **intc/intc_swint**
    - Change the flashing LEDs from all to only blue for simple.
  - **mcan/mcan_classical**
    - Corrected the comment of dedicated Rx buffer.
  - **timer0/timer0_basetimer**
    - Modify timer0 clock division for asynchronous clock
  - **timera/timera_pwm**
    - Set the initial value of the count register to 1 when using triangle wave mode to output PWM.
  - **usart/usart_clocksync_dma**
    - Fixed the return value type of ClockSync_Receive_DMA() and ClockSync_TransReceive_DMA()
#### utils
------
## Beta1.0.0  Jan 15, 2024
- Initial release.
